# 小管家记账系统

一个简单易用的个人和家庭记账系统。

## 仓库操作

### 添加所有修改的文件
- git add .
### 提交修改
- git commit -m "提交信息"
### 推送Gitee仓库
  - 推送命令：`git push gitee master`
- 推送GitHub仓库
  - 推送命令：`git push github master`
### 拉取Gitee仓库
  - 拉取命令：`git pull gitee master`
### 拉取GitHub仓库
  - 拉取命令：`git pull github master`
### 添加、提交、推送一条龙
- git add . && git commit -m "提交说明" && git push

## 开发进度
- [x] 用户管理
  - [x] 用户注册/登录
  - [x] 密码重置
  - [x] 个人信息管理
- [x] 账户管理
  - [x] 个人账户
  - [x] 家庭账户
  - [x] 账户余额计算
- [x] 记账功能
  - [x] 收入支出记录
  - [x] 分类管理
  - [x] 账单搜索
- [x] 统计分析
  - [x] 月度收支趋势图
  - [x] 支出分类占比
  - [x] 月度统计比较
  - [x] 年度汇总数据
- [ ] 预算管理
  - [ ] 设置月度预算
  - [ ] 预算执行跟踪
  - [ ] 超支提醒

## 待修复问题
- [ ] 删除个人账本时出现 500 错误
- [ ] 打开家庭账本时出现 500 错误
- [ ] 优化移动端显示效果

## 版本历史

### v2.4 (2024-01-23)
- 修复账本相关错误
  - 修复删除个人账本时的500错误
  - 修复打开家庭账本时的500错误
  - 优化账本权限检查逻辑
  - 添加友好的错误提示

### v2.3 (2024-01-23)
- 完成 PythonAnywhere 部署
  - 配置 MySQL 数据库
  - 配置静态文件
  - 修复用户头像问题
  - 优化应用配置

### v2.2 (2024-01-22)
- 修复统计分析功能
  - 修复月度收支趋势图显示问题
  - 修复支出分类占比图显示问题
  - 优化图表样式和交互体验
  - 添加图表自适应调整功能
  - 改进数据展示格式

### v2.1 (2024-01-21)
- 新增统计分析功能
  - 添加月度收支趋势图
  - 添加支出分类占比图
  - 显示月度和年度统计数据
  - 优化图表显示效果，支持中文月份显示
- 优化数据展示
  - 所有金额统一保留两位小数
  - 优化图表布局和样式
- 已知问题
  - 统计分析页面的图表显示异常

### v2.0 (2024-01-20)
- 实现基础记账功能
- 支持个人账户和家庭账户
- 支持收入和支出记录
- 支持账单分类管理
- 支持多用户系统
- 支持密码重置功能

### 2024-01-22 (v2.0.1)
* 配置多仓库同步
  * 支持同时推送到Gitee和GitHub
  * 优化编辑器git操作体验

## 功能特性

1. 账户管理
   - 支持个人账户和家庭账户
   - 账户余额自动计算
   - 支持账户备注

2. 记账功能
   - 收入/支出记录
   - 自定义分类
   - 日期选择
   - 备注信息

3. 统计分析
   - 月度收支趋势图
   - 支出分类占比
   - 月度统计比较
   - 年度汇总数据

4. 系统功能
   - 多用户支持
   - 密码重置
   - 响应式界面

## 技术栈

- Django 5.0.1
- Bootstrap 5
- Plotly.js (数据可视化)
- SQLite3 (数据库)

## 项目结构
```
项目根目录/
├── README.md                # 项目文档
├── requirements.txt         # 项目依赖
├── manage.py               # Django管理脚本
├── db.sqlite3              # 数据库文件
├── .gitignore             # Git忽略配置
├── bookkeeping/           # Django项目主配置目录
│   ├── __init__.py
│   ├── settings.py        # 项目设置
│   ├── urls.py           # URL配置
│   ├── asgi.py           # ASGI配置
│   └── wsgi.py           # WSGI配置
├── accounts/              # 用户账户应用
│   ├── migrations/       # 数据库迁移文件
│   ├── templates/       # 账户相关模板
│   ├── models.py        # 用户模型
│   └── views.py         # 账户视图
├── bills/                # 账单应用
│   ├── migrations/      # 数据库迁移文件
│   ├── templates/      # 账单相关模板
│   ├── models.py       # 账单模型
│   └── views.py        # 账单视图
├── stats/               # 统计分析应用
│   ├── migrations/     # 数据库迁移文件
│   ├── templates/     # 统计相关模板
│   ├── models.py      # 统计模型
│   └── views.py       # 统计视图
├── scripts/            # 实用脚本目录
│   └── create_test_data.py  # 测试数据生成脚本
├── static/             # 静态文件目录
│   ├── css/           # 样式文件
│   ├── js/            # JavaScript文件
│   └── images/        # 图片资源
├── media/             # 用户上传文件目录
└── templates/         # 全局模板目录
    ├── base.html      # 基础模板
    └── components/    # 组件模板
```


## 作者
清香客

## 许可
MIT License